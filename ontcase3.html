<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Kuntavaalit</title>
<style>

</style>
</head>
<body>
<h1>Valitut vihreät 2012 vaaleissa</h1>
<button class="nappi">Jatka</button>
<hr />
<script src="d3v4/d3.min.js"></script>
<script>

var svg = d3.select("body").append("svg")
	.attr("viewBox", "0 0 500 400")
	.attr("preserveAspectRatio", "xMidYMid meet");

var x = d3.scaleLinear()
	.range([0, 500]);

var y = d3.scaleLinear()
	.range([400, 0]);

var diameter = 300;

var bubble = d3.pack()
	.size([diameter, diameter]);
	
var data = [];
var page = 0;

function vaihda(data, page) {

switch(page) {
    case 0:
        svg.selectAll(".dot")
			.data(data)
			.enter().append("circle")
			.attr("class", "dot")
			.attr("cx", 250)
			.attr("cy", function(d, i) { return 30+i*10; })
			.style("fill", "darkgreen")
			.transition()
				.duration(800)
				.attr("r", function(d) { return d.pervotes/100; });
        break;
    case 1:
        svg.selectAll(".dot")
        .transition()
			.duration(800)
			.attr("class", "dot")
			.attr("cx", 200)
			.attr("cy", function(d, i) { return 30+i*10; })
			.style("fill", "red")	
			.attr("r", function(d) { return d.pervotes/50; });
		break;
	case 2:
		console.log("LOPPU");
} 


			
}

function uudet(data) {
		// TÄSSÄ PIIRRETÄÄN 2017 TULOS
}

function kartta(data) {
		// TÄSSÄ PIIRRETÄÄN KARTTA
}

function nostot(data) {
		// TÄSSÄ PIIRRETÄÄN NOSTOT
}

d3.json("ontcase3_data.json", function(error, json) {
	if (error) throw error;
	json.tulokset.forEach(function(d) {
		var kuntaNimi = d.name;
		var kuntaVotes = d.totvotes;
		var kuntaLon = d.lon;
		var kuntaLat = d.lat;
		d.children.forEach(function(d) {
			//console.log(d);
			var tiedot = [];
			d.kname = kuntaNimi;
			d.totvotes = kuntaVotes;
			d.lon = kuntaLon;
			d.lat = kuntaLat;
			data.push(d);
		});
	});
	vaihda(data, 0);
});

d3.select(".nappi")
	.on("click", function(){
			page = page+1;
			vaihda(data, page);
	});

</script>
Sources:
http://bl.ocks.org/mbostock/4063269
</body>
</html>
